INFO:     Started server process [23562]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     199.101.192.67:17838 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-08 14:51:19,011 [INFO] username_email='testuser' password='testpassword'
2024-11-08 14:51:19,012 [INFO] <app.models.user.User object at 0x7a210dbae060>
2024-11-08 14:51:19,013 [INFO] None
2024-11-08 14:51:19,013 [INFO] <app.models.user.User object at 0x7a210dbae060>
2024-11-08 14:51:19,014 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     199.101.192.67:4269 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     199.101.192.67:24885 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     199.101.192.67:36227 - "POST /api/backtest/save HTTP/1.1" 200 OK
INFO:     199.101.192.67:18505 - "GET /api/backtest/saved HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     199.101.192.67:8815 - "GET /api/backtest/result/1 HTTP/1.1" 200 OK
INFO:     199.101.192.67:7862 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-08 14:52:05,350 [INFO] username_email='testuser' password='testpassword'
2024-11-08 14:52:05,351 [INFO] <app.models.user.User object at 0x7a210e528590>
2024-11-08 14:52:05,352 [INFO] None
2024-11-08 14:52:05,352 [INFO] <app.models.user.User object at 0x7a210e528590>
INFO:     199.101.192.67:27521 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     199.101.192.67:12056 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     199.101.192.67:44895 - "POST /api/backtest/save HTTP/1.1" 200 OK
INFO:     199.101.192.67:54391 - "GET /api/backtest/saved HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     199.101.192.67:42762 - "GET /api/backtest/result/1 HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     50.116.28.16:52902 - "GET / HTTP/1.0" 200 OK
INFO:     173.255.221.189:51689 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.189:61885 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.185:29949 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     64.62.197.188:45387 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     64.62.197.182:54231 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
INFO:     170.64.231.111:41220 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     209.160.115.5:65068 - "PRI %2A HTTP/2.0" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     95.214.53.211:60528 - "GET / HTTP/1.1" 200 OK
INFO:     4.151.230.182:51208 - "GET / HTTP/1.1" 200 OK
INFO:     103.203.58.4:38820 - "GET / HTTP/1.1" 200 OK
INFO:     167.99.13.19:35648 - "GET /aaa9 HTTP/1.1" 404 Not Found
INFO:     167.99.13.19:35650 - "GET /aab8 HTTP/1.1" 404 Not Found
INFO:     167.99.13.19:35660 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.9:39735 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.9:22423 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     64.62.197.11:16685 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     64.62.197.7:43589 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     80.66.83.46:48856 - "CONNECT hotmail-com.olc.protection.outlook.com%3A25 HTTP/1.1" 404 Not Found
INFO:     154.212.141.191:14818 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     80.66.83.46:52620 - "CONNECT 80.66.83.46%3A80 HTTP/1.1" 404 Not Found
INFO:     185.191.126.248:47662 - "GET / HTTP/1.1" 200 OK
INFO:     185.242.226.43:41324 - "GET / HTTP/1.1" 200 OK
INFO:     185.226.196.27:60089 - "GET / HTTP/1.1" 200 OK
INFO:     185.226.196.27:51577 - "GET /console HTTP/1.1" 404 Not Found
INFO:     185.226.196.30:34351 - "GET /showLogin.cc HTTP/1.1" 404 Not Found
INFO:     185.191.126.248:53928 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     95.214.53.211:38558 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     13.58.97.162:42510 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:41966 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     64.62.197.63:30503 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.68:27687 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     64.62.197.71:39543 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     206.189.202.0:45714 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     13.64.109.214:45798 - "GET / HTTP/1.1" 200 OK
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------516310504298332568321231--\r\n'}]
Request body: b'----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------516310504298332568321231--\r\n'
INFO:     179.129.135.62:53728 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------516310504298332568321231\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------516310504298332568321231--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
INFO:     179.129.135.62:53733 - "GET / HTTP/1.1" 200 OK
INFO:     179.129.135.62:53733 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:53732 - "GET //api/auth/register HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:53732 - "GET /api/auth/register HTTP/1.1" 405 Method Not Allowed
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------345752662947232510279074--\r\n'}]
Request body: b'----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------345752662947232510279074--\r\n'
INFO:     179.129.135.62:53741 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------345752662947232510279074\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------345752662947232510279074--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------006402269998278159965669--\r\n'}]
Request body: b'----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------006402269998278159965669--\r\n'
INFO:     179.129.135.62:53748 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------006402269998278159965669\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------006402269998278159965669--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "julianogwarp",\n    "password": "test123",\n    "email": "julianogwarp@gmail.com"\n}'}]
Request body: b'{\n\t"username": "julianogwarp",\n    "password": "test123",\n    "email": "julianogwarp@gmail.com"\n}'
INFO:     179.129.135.62:53752 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "julianogwarp",\n    "password": "test123",\n    "email": "julianogwarp@gmail.com"\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
INFO:     179.129.135.62:53757 - "GET /api/auth/register HTTP/1.1" 405 Method Not Allowed
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------986523100122223522472840--\r\n'}]
Request body: b'----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------986523100122223522472840--\r\n'
INFO:     179.129.135.62:53770 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------986523100122223522472840\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------986523100122223522472840--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------559073907305381822029444--\r\n'}]
Request body: b'----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------559073907305381822029444--\r\n'
INFO:     179.129.135.62:53772 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------559073907305381822029444\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------559073907305381822029444--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------662168303462946209074694--\r\n'}]
Request body: b'----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------662168303462946209074694--\r\n'
INFO:     179.129.135.62:53773 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="username"\r\n\r\njulianogwarp\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="password"\r\n\r\ntesting123\r\n----------------------------662168303462946209074694\r\nContent-Disposition: form-data; name="email"\r\n\r\njulianogwarp@gmail.com\r\n----------------------------662168303462946209074694--\r\n'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.135.62:53776 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.135.62:53816 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]
Request body: b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'
INFO:     179.129.135.62:53830 - "GET /api/backtest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]
Request body: b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'
INFO:     179.129.135.62:53837 - "GET /api/backtest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n\t"username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]
Request body: b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'
INFO:     179.129.135.62:53839 - "GET /api/backtest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'}]
Request body: b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'
INFO:     179.129.135.62:53842 - "GET /api/backtest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'}]
Request body: b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'
INFO:     179.129.135.62:53851 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username_email": "testuser",\n    "password": "testpassword",\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]
Request body: b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'
INFO:     179.129.135.62:53857 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n    "email": "test@example.com"\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'}]
Request body: b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'
INFO:     179.129.135.62:53859 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'}]
Request body: b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'
INFO:     179.129.135.62:53861 - "POST /api/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'{\n    "username": "testuser",\n    "password": "testpassword",\n}'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
INFO:     179.129.135.62:53866 - "GET /api/auth/register HTTP/1.1" 405 Method Not Allowed
Validation error: [{'type': 'json_invalid', 'loc': ('body', 62), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Expecting property name enclosed in double quotes'}}]
Request body: {
    "username": "testuser",
    "password": "testpassword",
}
INFO:     179.129.135.62:53868 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body', 'email'), 'msg': 'Field required', 'input': {'username': 'testuser', 'password': 'testpassword'}}]
Request body: {'username': 'testuser', 'password': 'testpassword'}
INFO:     179.129.135.62:53870 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.135.62:53873 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
INFO:     179.129.135.62:53875 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
INFO:     179.129.135.62:53877 - "POST /api/auth/register HTTP/1.1" 200 OK
Validation error: [{'type': 'json_invalid', 'loc': ('body', 72), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Expecting property name enclosed in double quotes'}}]
Request body: {
    "username_email": "julianogwarp",
    "password": "testpassword",
}
INFO:     179.129.135.62:53887 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2024-11-14 18:14:04,076 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:14:04,079 [INFO] <app.models.user.User object at 0x7a210eaa8d40>
2024-11-14 18:14:04,079 [INFO] None
2024-11-14 18:14:04,080 [INFO] <app.models.user.User object at 0x7a210eaa8d40>
INFO:     179.129.135.62:53890 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-14 18:16:19,647 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:16:19,648 [INFO] <app.models.user.User object at 0x7a210d14a9c0>
2024-11-14 18:16:19,649 [INFO] None
2024-11-14 18:16:19,649 [INFO] <app.models.user.User object at 0x7a210d14a9c0>
INFO:     179.129.135.62:53900 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-14 18:16:38,704 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:16:38,705 [INFO] <app.models.user.User object at 0x7a210d148b00>
2024-11-14 18:16:38,706 [INFO] None
2024-11-14 18:16:38,706 [INFO] <app.models.user.User object at 0x7a210d148b00>
INFO:     179.129.135.62:53902 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-14 18:18:02,582 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:18:02,583 [INFO] <app.models.user.User object at 0x7a210d148500>
2024-11-14 18:18:02,584 [INFO] None
2024-11-14 18:18:02,584 [INFO] <app.models.user.User object at 0x7a210d148500>
INFO:     179.129.135.62:53905 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-14 18:18:16,227 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:18:16,228 [INFO] <app.models.user.User object at 0x7a210d14aa50>
2024-11-14 18:18:16,229 [INFO] None
2024-11-14 18:18:16,229 [INFO] <app.models.user.User object at 0x7a210d14aa50>
INFO:     179.129.135.62:53907 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     185.191.126.248:54892 - "GET / HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.135.62:54086 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:54097 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.135.62:54103 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.135.62:54107 - "POST /api/backtest/save HTTP/1.1" 401 Unauthorized
2024-11-14 18:40:22,301 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:40:22,302 [INFO] <app.models.user.User object at 0x7a210d1c72c0>
2024-11-14 18:40:22,303 [INFO] None
2024-11-14 18:40:22,303 [INFO] <app.models.user.User object at 0x7a210d1c72c0>
INFO:     179.129.135.62:54109 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:54111 - "POST /api/backtest/save HTTP/1.1" 401 Unauthorized
2024-11-14 18:41:16,477 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:41:16,478 [INFO] <app.models.user.User object at 0x7a210d1c7140>
2024-11-14 18:41:16,478 [INFO] None
2024-11-14 18:41:16,479 [INFO] <app.models.user.User object at 0x7a210d1c7140>
INFO:     179.129.135.62:54121 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:54123 - "POST /api/backtest/save HTTP/1.1" 401 Unauthorized
INFO:     179.129.135.62:54127 - "POST /api/backtest/save HTTP/1.1" 401 Unauthorized
2024-11-14 18:44:04,277 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:44:04,278 [INFO] <app.models.user.User object at 0x7a210d1c7230>
2024-11-14 18:44:04,278 [INFO] None
2024-11-14 18:44:04,278 [INFO] <app.models.user.User object at 0x7a210d1c7230>
INFO:     179.129.135.62:54134 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:54138 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
INFO:     179.129.135.62:54141 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
INFO:     179.129.135.62:54143 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
INFO:     179.129.135.62:54146 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
2024-11-14 18:46:27,128 [INFO] username_email='julianogwarp' password='testpassword'
2024-11-14 18:46:27,129 [INFO] <app.models.user.User object at 0x7a210e528950>
2024-11-14 18:46:27,130 [INFO] None
2024-11-14 18:46:27,130 [INFO] <app.models.user.User object at 0x7a210e528950>
INFO:     179.129.135.62:54149 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:54157 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:54239 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.135.62:51376 - "POST //api/auth/login HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:51376 - "POST //api/auth/register HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:51378 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-14 20:21:03,489 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-14 20:21:03,490 [INFO] None
2024-11-14 20:21:03,491 [INFO] <app.models.user.User object at 0x7a210d14a090>
2024-11-14 20:21:03,491 [INFO] <app.models.user.User object at 0x7a210d14a090>
INFO:     179.129.135.62:51380 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:51683 - "OPTIONS //api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:51683 - "POST //api/auth/login HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:51687 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-14 20:39:47,154 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-14 20:39:47,154 [INFO] None
2024-11-14 20:39:47,155 [INFO] <app.models.user.User object at 0x7a210d149f40>
2024-11-14 20:39:47,155 [INFO] <app.models.user.User object at 0x7a210d149f40>
INFO:     179.129.135.62:51687 - "POST /api/auth/login HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     37.19.223.107:61726 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     50.114.45.218:36596 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-15 12:25:14,387 [INFO] username_email='testuser' password='testpassword'
2024-11-15 12:25:14,388 [INFO] <app.models.user.User object at 0x7a210d149370>
2024-11-15 12:25:14,388 [INFO] None
2024-11-15 12:25:14,389 [INFO] <app.models.user.User object at 0x7a210d149370>
INFO:     50.114.45.218:24564 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     50.114.45.218:50574 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     50.114.45.218:63479 - "POST /api/backtest/save HTTP/1.1" 200 OK
INFO:     50.114.45.218:12723 - "GET /api/backtest/saved HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     50.114.45.218:11564 - "GET /api/backtest/result/1 HTTP/1.1" 200 OK
INFO:     51.254.0.11:39887 - "GET / HTTP/1.1" 200 OK
INFO:     51.254.0.3:55287 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     103.203.58.4:50740 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:50522 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:55109 - "GET /api/backtest HTTP/1.1" 200 OK
Validation error: [{'type': 'json_invalid', 'loc': ('body', 665), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Extra data'}}]
Request body: {
"symbol": "BTC-USD",
"start": "2020-01-01",
"end": "2024-09-10",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "strategy_1",
"allocation": 100,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
]
}
{
"symbol": "BTC-USD",
"start": "2020-01-01",
"end": "2024-09-10",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "strategy_1",
"allocation": 200,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
]
}
INFO:     179.129.135.62:55292 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'json_invalid', 'loc': ('body', 662), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': "Expecting ',' delimiter"}}]
Request body: {
"symbol": "BTC-USD",
"start": "2020-01-01",
"end": "2024-09-10",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "strategy_1",
"allocation": 100,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
]
"strategies": [
{
"name": "strategy_1",
"allocation": 100,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
]
}

INFO:     179.129.135.62:55295 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Initializing strategy: strategy_2
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_2 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
Collecting indicators for strategy: strategy_2
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Generating signals for strategy: strategy_2
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_2_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 20 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_2_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 48 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
                    Open  ...  strategy_2_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 48 columns]
Index(['Close', 'strategy_2_position', 'Date'], dtype='object')
INFO:     179.129.135.62:55301 - "GET /api/backtest HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     199.101.192.51:12483 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-17 10:08:30,905 [INFO] username_email='testuser' password='testpassword'
2024-11-17 10:08:30,907 [INFO] <app.models.user.User object at 0x7a210d1c41d0>
2024-11-17 10:08:30,908 [INFO] None
2024-11-17 10:08:30,908 [INFO] <app.models.user.User object at 0x7a210d1c41d0>
INFO:     199.101.192.51:55511 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     64.62.197.175:55699 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.175:11035 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     4.156.21.128:53220 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     198.199.75.226:47446 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.67:33322 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.67:41144 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     65.49.20.67:41146 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     65.49.20.67:41158 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
INFO:     45.79.115.59:54303 - "GET / HTTP/1.1" 200 OK
INFO:     45.79.181.179:23280 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     31.13.224.51:37824 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:46666 - "GET / HTTP/1.1" 200 OK
INFO:     128.199.31.127:57770 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:36034 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.66:61048 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.66:58922 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     65.49.20.66:58932 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     65.49.20.66:58934 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
INFO:     179.129.135.62:58430 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-19 04:40:40,969 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-19 04:40:40,970 [INFO] None
2024-11-19 04:40:40,971 [INFO] <app.models.user.User object at 0x7a210cd8eab0>
2024-11-19 04:40:40,972 [INFO] <app.models.user.User object at 0x7a210cd8eab0>
INFO:     179.129.135.62:58430 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-19 04:43:16,353 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-19 04:43:16,354 [INFO] None
2024-11-19 04:43:16,355 [INFO] <app.models.user.User object at 0x7a210cd8cb60>
2024-11-19 04:43:16,355 [INFO] <app.models.user.User object at 0x7a210cd8cb60>
INFO:     179.129.135.62:58479 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:58626 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-19 04:54:25,388 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-19 04:54:25,389 [INFO] None
2024-11-19 04:54:25,390 [INFO] <app.models.user.User object at 0x7a210cd8ec90>
2024-11-19 04:54:25,390 [INFO] <app.models.user.User object at 0x7a210cd8ec90>
INFO:     179.129.135.62:58626 - "POST /api/auth/login HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     103.203.58.4:49930 - "GET / HTTP/1.1" 200 OK
INFO:     154.212.141.146:38482 - "GET / HTTP/1.1" 200 OK
INFO:     8.219.150.8:59922 - "GET / HTTP/1.0" 200 OK
2024-11-19 11:08:40,684 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-19 11:08:40,685 [INFO] None
2024-11-19 11:08:40,686 [INFO] <app.models.user.User object at 0x7a210cd8ea80>
2024-11-19 11:08:40,686 [INFO] <app.models.user.User object at 0x7a210cd8ea80>
INFO:     179.129.135.62:59031 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'json_invalid', 'loc': ('body', 659), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': "Expecting ',' delimiter"}}]
Request body: {
"symbol": "BTC-USD",
"start": "2020-01-01",
"end": "2024-09-10",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "strategy_1",
"allocation": 100,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
{
"name": "strategy_1",
"allocation": 100,
"positionType": "Long",
"entryRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "10" },
"operator": ">",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "50" }
}
],
"exitRules": [
{
"leftIndicator": "SMA",
"leftParams": { "period": "5" },
"operator": "<",
"useRightIndicator": true,
"rightIndicator": "SMA",
"rightParams": { "period": "10" }
}
],
"active": true,
"position_size_method": "fixed",
"fixed_position_size": 100
}
]

}

INFO:     179.129.135.62:59031 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:250: UserWarning: DataFrame columns are not unique, some columns will be omitted.
  equity_curve = df_result[equity_columns].reset_index().rename(columns={'index': 'Date'}).to_dict('records')
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:256: UserWarning: DataFrame columns are not unique, some columns will be omitted.
  drawdown = df_result[drawdown_columns].reset_index().rename(columns={'index': 'Date'}).to_dict('records')
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:262: UserWarning: DataFrame columns are not unique, some columns will be omitted.
  rolling_sharpe = df_result[rolling_sharpe_columns].reset_index().rename(columns={'index': 'Date'}).to_dict('records')
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_cumulative_log_equity
Date                      ...                                  
2020-01-01   7194.892090  ...                               NaN
2020-02-21   9611.782227  ...                         -0.006000
2020-02-22   9687.707031  ...                         -0.003596
2020-02-23   9663.318359  ...                         -0.030281
2020-02-24   9921.583008  ...                         -0.002249
...                  ...  ...                               ...
2024-08-03  61414.808594  ...                         -1.894551
2024-08-04  60676.093750  ...                         -1.851394
2024-08-05  58110.296875  ...                         -1.777762
2024-08-06  53991.347656  ...                         -1.814900
2024-08-07  56040.632812  ...                         -1.796768

[887 rows x 17 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:59036 - "GET /api/backtest HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     45.156.129.96:55477 - "GET /api/v2/ HTTP/1.1" 404 Not Found
INFO:     45.156.129.98:47835 - "GET /ms/1.0/ HTTP/1.1" 404 Not Found
INFO:     45.156.129.95:46455 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:34348 - "GET / HTTP/1.1" 200 OK
INFO:     179.129.135.62:62838 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-20 14:02:55,122 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-20 14:02:55,129 [INFO] None
2024-11-20 14:02:55,129 [INFO] <app.models.user.User object at 0x7a210cd8fbc0>
2024-11-20 14:02:55,129 [INFO] <app.models.user.User object at 0x7a210cd8fbc0>
INFO:     179.129.135.62:62838 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.135.62:62846 - "POST /api/auth/register HTTP/1.1" 200 OK
2024-11-20 14:03:57,025 [INFO] username_email='allan@gmail.com' password='testpassword'
2024-11-20 14:03:57,026 [INFO] None
2024-11-20 14:03:57,027 [INFO] <app.models.user.User object at 0x7a210cd8dfa0>
2024-11-20 14:03:57,027 [INFO] <app.models.user.User object at 0x7a210cd8dfa0>
INFO:     179.129.135.62:62849 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-20 14:04:11,266 [INFO] username_email='allan@gmail.com' password='testpassword'
2024-11-20 14:04:11,267 [INFO] None
2024-11-20 14:04:11,267 [INFO] <app.models.user.User object at 0x7a210cd8ef00>
2024-11-20 14:04:11,267 [INFO] <app.models.user.User object at 0x7a210cd8ef00>
INFO:     179.129.135.62:62853 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:62877 - "GET /api/backtest HTTP/1.1" 200 OK
Validation error: [{'type': 'json_invalid', 'loc': ('body', 453), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Expecting property name enclosed in double quotes'}}]
Request body: 
{
"symbol": "SOL-USD",
"data_source": "Yahoo Finance",
"start": "2020-01-01",
"end": "2024-01-01",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "Strategy 1",
"allocation": 100,
"positionType": "long",
"entryRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": ">",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '20'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"exitRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": "<",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '20'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"entryRegimeRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": ">",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '50'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"exitRegimeRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": "<",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '50'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"regimeEntryAction": "long",
"regimeExitAction": "long",
"regimeAsset": "BTC-USD",
"active": true,
"position_size_method": "fixed",
"frequency": "Daily"
}
]
}
INFO:     179.129.135.62:62901 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'json_invalid', 'loc': ('body', 1135), 'msg': 'JSON decode error', 'input': {}, 'ctx': {'error': 'Expecting property name enclosed in double quotes'}}]
Request body: 
{
"symbol": "SOL-USD",
"data_source": "Yahoo Finance",
"start": "2020-01-01",
"end": "2024-01-01",
"fees": 0.5,
"slippage": 0.1,
"strategies": [
{
"name": "Strategy 1",
"allocation": 100,
"positionType": "long",
"entryRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": ">",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {"series": "Close", "window": "20"},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"exitRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": "<",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params":  {"series": "Close", "window": "20"},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"entryRegimeRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": ">",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '50'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"exitRegimeRules": [
{
"leftIndicator": {
"type": "simple",
"name": "Close",
"params": {},
"expression": ""
},
"operator": "<",
"useRightIndicator": true,
"rightIndicator": {
"type": "simple",
"name": "SMA",
"params": {'series': 'Close', 'window': '50'},
"expression": ""
},
"rightValue": "",
"logicalOperator": "and"
}
],
"regimeEntryAction": "long",
"regimeExitAction": "long",
"regimeAsset": "BTC-USD",
"active": true,
"position_size_method": "fixed",
"frequency": "Daily"
}
]
}
INFO:     179.129.135.62:62906 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'string_type', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'leftIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}}, {'type': 'missing', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'leftParams'), 'msg': 'Field required', 'input': {'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'rightIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'leftIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}}, {'type': 'missing', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'leftParams'), 'msg': 'Field required', 'input': {'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'rightIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}}, {'type': 'value_error', 'loc': ('body', 'strategies', 0, 'fixed_position_size'), 'msg': 'Value error, fixed_position_size must be provided when position_size_method is "fixed"', 'input': None, 'ctx': {'error': ValueError('fixed_position_size must be provided when position_size_method is "fixed"')}}]
Request body: {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'frequency': 'Daily'}]}
INFO:     179.129.135.62:62908 - "GET /api/backtest HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'string_type', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'leftIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}}, {'type': 'missing', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'leftParams'), 'msg': 'Field required', 'input': {'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'entryRules', 0, 'rightIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'leftIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}}, {'type': 'missing', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'leftParams'), 'msg': 'Field required', 'input': {'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}}, {'type': 'string_type', 'loc': ('body', 'strategies', 0, 'exitRules', 0, 'rightIndicator'), 'msg': 'Input should be a valid string', 'input': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}}, {'type': 'value_error', 'loc': ('body', 'strategies', 0, 'fixed_position_size'), 'msg': 'Value error, fixed_position_size must be provided when position_size_method is "fixed"', 'input': None, 'ctx': {'error': ValueError('fixed_position_size must be provided when position_size_method is "fixed"')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:62911 - "GET /api/backtest HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     179.129.135.62:51996 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-21 01:50:15,447 [INFO] username_email='' password=''
2024-11-21 01:50:15,450 [INFO] None
2024-11-21 01:50:15,450 [INFO] None
INFO:     179.129.135.62:51996 - "POST /api/auth/login HTTP/1.1" 400 Bad Request
INFO:     185.191.126.248:41398 - "GET / HTTP/1.1" 200 OK
INFO:     66.228.58.98:57226 - "GET / HTTP/1.0" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:37654 - "GET /favicon.ico HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:56672 - "GET /manage/account/login HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:34546 - "GET /admin/index.html HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:58424 - "GET /index.html HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:40152 - "GET /%2BCSCOE%2B/logon.html HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:60886 - "GET /cgi-bin/login.cgi HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:47024 - "GET /logon.htm HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:55126 - "GET /login.jsp HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:40294 - "GET /doc/index.html HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     13.40.5.243:42518 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     45.15.17.67:38120 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.135.62:57042 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     13.58.97.162:52846 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:45908 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.1.30:59883 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.1.30:46733 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     65.49.1.27:61753 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     65.49.1.31:27003 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     178.128.222.70:48660 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:39644 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     80.66.83.46:53016 - "CONNECT hotmail-com.olc.protection.outlook.com%3A25 HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     80.66.83.46:40908 - "CONNECT 80.66.83.46%3A80 HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     185.191.126.248:46260 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.96:62697 - "GET / HTTP/1.1" 200 OK
INFO:     64.62.197.96:46861 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     64.62.197.104:9313 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
INFO:     103.203.58.4:51596 - "GET / HTTP/1.1" 200 OK
INFO:     172.206.146.163:53296 - "GET / HTTP/1.1" 200 OK
INFO:     185.191.126.248:44622 - "GET / HTTP/1.1" 200 OK
INFO:     34.219.221.23:57714 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     157.230.8.75:59688 - "GET /aaa9 HTTP/1.1" 404 Not Found
INFO:     157.230.8.75:59698 - "GET /aab8 HTTP/1.1" 404 Not Found
INFO:     157.230.8.75:59700 - "GET / HTTP/1.1" 200 OK
INFO:     123.191.135.165:38343 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
INFO:     45.33.109.17:51563 - "GET / HTTP/1.1" 200 OK
INFO:     179.129.142.54:56571 - "OPTIONS /api/backtest?startDate=2024-11-21&endDate=2024-11-28&assetSymbol=USD%2FBTC&fees=2&slippage=2&strategies=%5Bobject+Object%5D HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:56571 - "GET /api/backtest?startDate=2024-11-21&endDate=2024-11-28&assetSymbol=USD%2FBTC&fees=2&slippage=2&strategies=%5Bobject+Object%5D HTTP/1.1" 422 Unprocessable Entity
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     185.226.197.35:60499 - "GET /api/v2/ HTTP/1.1" 404 Not Found
INFO:     185.226.197.33:38807 - "GET /ms/1.0/ HTTP/1.1" 404 Not Found
INFO:     185.226.197.33:52519 - "GET / HTTP/1.1" 200 OK
INFO:     45.58.159.17:55318 - "GET / HTTP/1.1" 200 OK
2024-11-26 21:03:45,982 [INFO] username_email='allan@gmail.com' password='testpassword'
2024-11-26 21:03:45,988 [INFO] None
2024-11-26 21:03:45,989 [INFO] <app.models.user.User object at 0x7a210cd8ce60>
2024-11-26 21:03:45,989 [INFO] <app.models.user.User object at 0x7a210cd8ce60>
INFO:     179.129.142.54:57933 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'username=allan&password=testpassword'}]
Request body: b'username=allan&password=testpassword'
INFO:     179.129.142.54:58069 - "POST /api/auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 346, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'username=allan&password=testpassword'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 406, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 73, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/main.py", line 30, in validation_exception_handler
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 178, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 41, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/starlette/responses.py", line 181, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
INFO:     179.129.142.54:58245 - "OPTIONS /api/auth/login HTTP/1.1" 400 Bad Request
INFO:     179.129.142.54:58257 - "OPTIONS /api/auth/login HTTP/1.1" 400 Bad Request
INFO:     179.129.142.54:58267 - "OPTIONS /api/auth/login HTTP/1.1" 400 Bad Request
2024-11-26 21:44:08,334 [INFO] username_email='allan@gmail.com' password='testpassword'
2024-11-26 21:44:08,335 [INFO] None
2024-11-26 21:44:08,335 [INFO] <app.models.user.User object at 0x7a210d1618e0>
2024-11-26 21:44:08,335 [INFO] <app.models.user.User object at 0x7a210d1618e0>
INFO:     179.129.142.54:58304 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:58469 - "OPTIONS /api/auth/login HTTP/1.1" 400 Bad Request
INFO:     179.129.142.54:58481 - "OPTIONS /api/auth/register HTTP/1.1" 400 Bad Request
INFO:     179.129.142.54:58514 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-26 21:51:24,622 [INFO] username_email='' password=''
2024-11-26 21:51:24,623 [INFO] None
2024-11-26 21:51:24,624 [INFO] None
INFO:     179.129.142.54:58514 - "POST /api/auth/login HTTP/1.1" 400 Bad Request
2024-11-26 21:51:35,578 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 21:51:35,579 [INFO] None
2024-11-26 21:51:35,580 [INFO] <app.models.user.User object at 0x7a210cd8df70>
2024-11-26 21:51:35,580 [INFO] <app.models.user.User object at 0x7a210cd8df70>
INFO:     179.129.142.54:58516 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body', 'username_email'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}]
Request body: {'formDataPayload': {}}
INFO:     179.129.142.54:58545 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body', 'username_email'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}]
Request body: {'formDataPayload': {}}
INFO:     179.129.142.54:58560 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body', 'username_email'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}]
Request body: {'formDataPayload': {}}
INFO:     179.129.142.54:58566 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:58722 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body', 'username_email'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': {'formDataPayload': {}}}]
Request body: {'formDataPayload': {}}
INFO:     179.129.142.54:58722 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2024-11-26 22:30:41,423 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:30:41,424 [INFO] None
2024-11-26 22:30:41,425 [INFO] <app.models.user.User object at 0x7a210ce6f920>
2024-11-26 22:30:41,425 [INFO] <app.models.user.User object at 0x7a210ce6f920>
INFO:     179.129.142.54:58778 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:58817 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:33:26,118 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:33:26,119 [INFO] None
2024-11-26 22:33:26,120 [INFO] <app.models.user.User object at 0x7a210d1107d0>
2024-11-26 22:33:26,120 [INFO] <app.models.user.User object at 0x7a210d1107d0>
INFO:     179.129.142.54:58817 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:34:18,955 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:34:18,956 [INFO] None
2024-11-26 22:34:18,956 [INFO] <app.models.user.User object at 0x7a210d113740>
2024-11-26 22:34:18,957 [INFO] <app.models.user.User object at 0x7a210d113740>
INFO:     179.129.142.54:58827 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:35:17,852 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:35:17,853 [INFO] None
2024-11-26 22:35:17,853 [INFO] <app.models.user.User object at 0x7a210d113380>
2024-11-26 22:35:17,853 [INFO] <app.models.user.User object at 0x7a210d113380>
INFO:     179.129.142.54:58833 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:35:31,963 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:35:31,964 [INFO] None
2024-11-26 22:35:31,964 [INFO] <app.models.user.User object at 0x7a210d113230>
2024-11-26 22:35:31,964 [INFO] <app.models.user.User object at 0x7a210d113230>
INFO:     179.129.142.54:58836 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:35:45,806 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:35:45,807 [INFO] None
2024-11-26 22:35:45,808 [INFO] <app.models.user.User object at 0x7a210d1135c0>
2024-11-26 22:35:45,808 [INFO] <app.models.user.User object at 0x7a210d1135c0>
INFO:     179.129.142.54:58840 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:36:28,971 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:36:28,972 [INFO] None
2024-11-26 22:36:28,973 [INFO] <app.models.user.User object at 0x7a210d112930>
2024-11-26 22:36:28,973 [INFO] <app.models.user.User object at 0x7a210d112930>
INFO:     179.129.142.54:58848 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:38:57,011 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:38:57,012 [INFO] None
2024-11-26 22:38:57,013 [INFO] <app.models.user.User object at 0x7a210d1137a0>
2024-11-26 22:38:57,013 [INFO] <app.models.user.User object at 0x7a210d1137a0>
INFO:     179.129.142.54:58875 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:58889 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:40:14,938 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:40:14,939 [INFO] None
2024-11-26 22:40:14,940 [INFO] <app.models.user.User object at 0x7a210d162e40>
2024-11-26 22:40:14,940 [INFO] <app.models.user.User object at 0x7a210d162e40>
INFO:     179.129.142.54:58889 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:44:03,215 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:44:03,216 [INFO] None
2024-11-26 22:44:03,217 [INFO] <app.models.user.User object at 0x7a210d1633b0>
2024-11-26 22:44:03,217 [INFO] <app.models.user.User object at 0x7a210d1633b0>
INFO:     179.129.142.54:58926 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:44:28,575 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:44:28,576 [INFO] None
2024-11-26 22:44:28,577 [INFO] <app.models.user.User object at 0x7a210d163470>
2024-11-26 22:44:28,577 [INFO] <app.models.user.User object at 0x7a210d163470>
INFO:     179.129.142.54:58932 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:44:44,111 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:44:44,112 [INFO] None
2024-11-26 22:44:44,112 [INFO] <app.models.user.User object at 0x7a210d162930>
2024-11-26 22:44:44,113 [INFO] <app.models.user.User object at 0x7a210d162930>
INFO:     179.129.142.54:58939 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:45:14,275 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:45:14,276 [INFO] None
2024-11-26 22:45:14,277 [INFO] <app.models.user.User object at 0x7a210d1636b0>
2024-11-26 22:45:14,277 [INFO] <app.models.user.User object at 0x7a210d1636b0>
INFO:     179.129.142.54:58951 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:47:00,670 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:47:00,671 [INFO] None
2024-11-26 22:47:00,672 [INFO] <app.models.user.User object at 0x7a210d1633b0>
2024-11-26 22:47:00,672 [INFO] <app.models.user.User object at 0x7a210d1633b0>
INFO:     179.129.142.54:58976 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:47:41,843 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:47:41,844 [INFO] None
2024-11-26 22:47:41,844 [INFO] <app.models.user.User object at 0x7a210d163470>
2024-11-26 22:47:41,844 [INFO] <app.models.user.User object at 0x7a210d163470>
INFO:     179.129.142.54:58982 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:59032 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:51:24,750 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:51:24,751 [INFO] None
2024-11-26 22:51:24,752 [INFO] <app.models.user.User object at 0x7a210d163680>
2024-11-26 22:51:24,752 [INFO] <app.models.user.User object at 0x7a210d163680>
INFO:     179.129.142.54:59032 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:52:36,088 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:52:36,089 [INFO] None
2024-11-26 22:52:36,089 [INFO] <app.models.user.User object at 0x7a210d162c90>
2024-11-26 22:52:36,089 [INFO] <app.models.user.User object at 0x7a210d162c90>
INFO:     179.129.142.54:59045 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:52:43,231 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:52:43,232 [INFO] None
2024-11-26 22:52:43,232 [INFO] <app.models.user.User object at 0x7a210d163fe0>
2024-11-26 22:52:43,232 [INFO] <app.models.user.User object at 0x7a210d163fe0>
INFO:     179.129.142.54:59050 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:53:53,104 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:53:53,105 [INFO] None
2024-11-26 22:53:53,105 [INFO] <app.models.user.User object at 0x7a210d1633b0>
2024-11-26 22:53:53,105 [INFO] <app.models.user.User object at 0x7a210d1633b0>
INFO:     179.129.142.54:59063 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:56:59,615 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:56:59,616 [INFO] None
2024-11-26 22:56:59,616 [INFO] <app.models.user.User object at 0x7a210d163470>
2024-11-26 22:56:59,617 [INFO] <app.models.user.User object at 0x7a210d163470>
INFO:     179.129.142.54:59117 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:57:33,775 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:57:33,776 [INFO] None
2024-11-26 22:57:33,776 [INFO] <app.models.user.User object at 0x7a210d163b90>
2024-11-26 22:57:33,776 [INFO] <app.models.user.User object at 0x7a210d163b90>
INFO:     179.129.142.54:59123 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:58:22,119 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:58:22,120 [INFO] None
2024-11-26 22:58:22,120 [INFO] <app.models.user.User object at 0x7a210d162e40>
2024-11-26 22:58:22,120 [INFO] <app.models.user.User object at 0x7a210d162e40>
INFO:     179.129.142.54:59131 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-26 22:58:34,484 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 22:58:34,485 [INFO] None
2024-11-26 22:58:34,485 [INFO] <app.models.user.User object at 0x7a210d162930>
2024-11-26 22:58:34,485 [INFO] <app.models.user.User object at 0x7a210d162930>
INFO:     179.129.142.54:59132 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:59156 - "OPTIONS /api/backtests/list HTTP/1.1" 200 OK
INFO:     179.129.142.54:59156 - "GET /api/backtests/list HTTP/1.1" 404 Not Found
INFO:     179.129.142.54:59162 - "GET /api/backtests/list HTTP/1.1" 404 Not Found
INFO:     179.129.142.54:59163 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:59163 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:59184 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:59261 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:59261 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59266 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59271 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59280 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59291 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59295 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-26 23:16:18,234 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-26 23:16:18,236 [INFO] None
2024-11-26 23:16:18,236 [INFO] <app.models.user.User object at 0x7a210cd8ec60>
2024-11-26 23:16:18,236 [INFO] <app.models.user.User object at 0x7a210cd8ec60>
INFO:     179.129.142.54:59295 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59298 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59300 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59317 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.142.54:59319 - "GET /api/backtest HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59328 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59330 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59333 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59363 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59363 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59375 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59378 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59398 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59404 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59407 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59419 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59473 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59565 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59565 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59590 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59598 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59603 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59616 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59619 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59623 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59698 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-27 00:06:53,787 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-27 00:06:53,788 [INFO] None
2024-11-27 00:06:53,789 [INFO] <app.models.user.User object at 0x7a210d14a600>
2024-11-27 00:06:53,789 [INFO] <app.models.user.User object at 0x7a210d14a600>
INFO:     179.129.142.54:59698 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:59701 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:59701 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:59724 - "OPTIONS /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5B%7B%22name%22%3A%22strategy_1%22%2C%22allocation%22%3A100%2C%22positionType%22%3A%22Long%22%2C%22entryRules%22%3A%5B%7B%22leftIndicator%22%3A%22SMA%22%2C%22leftParams%22%3A%7B%22period%22%3A%2210%22%7D%2C%22operator%22%3A%22%3E%22%2C%22useRightIndicator%22%3Atrue%2C%22rightIndicator%22%3A%22SMA%22%2C%22rightParams%22%3A%7B%22period%22%3A%2250%22%7D%7D%5D%2C%22exitRules%22%3A%5B%7B%22leftIndicator%22%3A%22SMA%22%2C%22leftParams%22%3A%7B%22period%22%3A%225%22%7D%2C%22operator%22%3A%22%3C%22%2C%22useRightIndicator%22%3Atrue%2C%22rightIndicator%22%3A%22SMA%22%2C%22rightParams%22%3A%7B%22period%22%3A%2210%22%7D%7D%5D%2C%22active%22%3Atrue%2C%22position_size_method%22%3A%22fixed%22%2C%22fixed_position_size%22%3A100%7D%5D HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59724 - "GET /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5B%7B%22name%22%3A%22strategy_1%22%2C%22allocation%22%3A100%2C%22positionType%22%3A%22Long%22%2C%22entryRules%22%3A%5B%7B%22leftIndicator%22%3A%22SMA%22%2C%22leftParams%22%3A%7B%22period%22%3A%2210%22%7D%2C%22operator%22%3A%22%3E%22%2C%22useRightIndicator%22%3Atrue%2C%22rightIndicator%22%3A%22SMA%22%2C%22rightParams%22%3A%7B%22period%22%3A%2250%22%7D%7D%5D%2C%22exitRules%22%3A%5B%7B%22leftIndicator%22%3A%22SMA%22%2C%22leftParams%22%3A%7B%22period%22%3A%225%22%7D%2C%22operator%22%3A%22%3C%22%2C%22useRightIndicator%22%3Atrue%2C%22rightIndicator%22%3A%22SMA%22%2C%22rightParams%22%3A%7B%22period%22%3A%2210%22%7D%7D%5D%2C%22active%22%3Atrue%2C%22position_size_method%22%3A%22fixed%22%2C%22fixed_position_size%22%3A100%7D%5D HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59735 - "OPTIONS /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5B%7B%22name%22%3A%22Strategy+1%22%2C%22allocation%22%3A100%2C%22entryRules%22%3A%5B%5D%2C%22exitRules%22%3A%5B%5D%2C%22positionType%22%3A%22long%22%2C%22active%22%3Atrue%2C%22position_size_method%22%3A%22fixed%22%2C%22fixed_position_size%22%3A1%7D%5D HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59735 - "GET /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5B%7B%22name%22%3A%22Strategy+1%22%2C%22allocation%22%3A100%2C%22entryRules%22%3A%5B%5D%2C%22exitRules%22%3A%5B%5D%2C%22positionType%22%3A%22long%22%2C%22active%22%3Atrue%2C%22position_size_method%22%3A%22fixed%22%2C%22fixed_position_size%22%3A1%7D%5D HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59821 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
2024-11-27 00:16:19,459 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-27 00:16:19,460 [INFO] None
2024-11-27 00:16:19,461 [INFO] <app.models.user.User object at 0x7a210cec92b0>
2024-11-27 00:16:19,461 [INFO] <app.models.user.User object at 0x7a210cec92b0>
INFO:     179.129.142.54:59825 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59825 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
2024-11-27 00:16:37,256 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-27 00:16:37,257 [INFO] None
2024-11-27 00:16:37,258 [INFO] <app.models.user.User object at 0x7a210d1617c0>
2024-11-27 00:16:37,258 [INFO] <app.models.user.User object at 0x7a210d1617c0>
INFO:     179.129.142.54:59835 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59835 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59951 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-27 00:24:32,596 [INFO] username_email='' password=''
2024-11-27 00:24:32,597 [INFO] None
2024-11-27 00:24:32,598 [INFO] None
INFO:     179.129.142.54:59951 - "POST /api/auth/login HTTP/1.1" 400 Bad Request
2024-11-27 00:24:40,861 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-27 00:24:40,862 [INFO] None
2024-11-27 00:24:40,863 [INFO] <app.models.user.User object at 0x7a210d112f60>
2024-11-27 00:24:40,863 [INFO] <app.models.user.User object at 0x7a210d112f60>
INFO:     179.129.142.54:59961 - "OPTIONS /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5Bobject+Object%5D HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}]
Request body: None
INFO:     179.129.142.54:59961 - "GET /api/backtest?symbol=BTC-USD&start=2020-01-01&end=2024-09-10&fees=0.5&slippage=0.1&strategies=%5Bobject+Object%5D HTTP/1.1" 422 Unprocessable Entity
INFO:     179.129.142.54:59968 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:59968 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
WARNING:  Invalid HTTP request received.
INFO:     5.135.58.194:35763 - "GET / HTTP/1.1" 200 OK
INFO:     37.59.165.84:35061 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     179.129.142.54:60447 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-27 10:18:43,349 [INFO] username_email='juliano@gmail.com' password='testpassword'
2024-11-27 10:18:43,350 [INFO] None
2024-11-27 10:18:43,351 [INFO] <app.models.user.User object at 0x7a210d148260>
2024-11-27 10:18:43,351 [INFO] <app.models.user.User object at 0x7a210d148260>
INFO:     179.129.142.54:60447 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     179.129.142.54:60450 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:60450 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:60455 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     179.129.142.54:60546 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     127.0.0.1:60038 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-27 10:23:53,318 [INFO] username_email='testuser' password='testpassword'
2024-11-27 10:23:53,319 [INFO] <app.models.user.User object at 0x7a210cd8e600>
2024-11-27 10:23:53,319 [INFO] None
2024-11-27 10:23:53,320 [INFO] <app.models.user.User object at 0x7a210cd8e600>
INFO:     127.0.0.1:60046 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     127.0.0.1:60056 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     127.0.0.1:35040 - "POST /api/backtest/save HTTP/1.1" 200 OK
INFO:     127.0.0.1:35042 - "GET /api/backtest/saved HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     127.0.0.1:35044 - "GET /api/backtest/result/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:43796 - "POST /api/auth/register HTTP/1.1" 400 Bad Request
2024-11-27 10:26:27,260 [INFO] username_email='testuser' password='testpassword'
2024-11-27 10:26:27,261 [INFO] <app.models.user.User object at 0x7a210ce6fbc0>
2024-11-27 10:26:27,262 [INFO] None
2024-11-27 10:26:27,263 [INFO] <app.models.user.User object at 0x7a210ce6fbc0>
INFO:     127.0.0.1:43804 - "POST /api/auth/login HTTP/1.1" 200 OK
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
/home/ubuntu/Quantifi/QuantiFi-Backend/app/services/backtest/metrics.py:112: FutureWarning: 'M' is deprecated and will be removed in a future version, please use 'ME' instead.
  monthly_returns = returns.resample('M').apply(lambda x: (x + 1).prod() - 1)
Initializing strategy: strategy_1
Parsing rule: SMA(10) > SMA(50)
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsing indicator: SMA(50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: SMA(Close, 10) > SMA(Close, 50)
Parsing rule: SMA(5) < SMA(10)
Parsing indicator: SMA(5)
Parsed indicator: SMA with params: ['Close', 5]
Parsing indicator: SMA(10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: SMA(Close, 5) < SMA(Close, 10)
Strategy strategy_1 initialized successfully
Starting backtest...
Collecting indicators for strategy: strategy_1
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 10)), operator='>', right=Indicator(name='SMA', params=('Close', 50)))
Collecting indicators from rule: CompositeRule(rule=Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Collecting indicators from rule: Rule(left=Indicator(name='SMA', params=('Close', 5)), operator='<', right=Indicator(name='SMA', params=('Close', 10)))
All collected indicators:
  SMA(Close, 5)
  SMA(Close, 50)
  SMA(Close, 10)
Adding indicator: SMA(Close, 5)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Generating signals for strategy: strategy_1
Fixed position size is larger than max allowed leverage. Please re-adjust.
position_type:
-1
                    Open  ...  strategy_1_position
Date                      ...                     
2020-01-01   7194.892090  ...                  NaN
2020-02-21   9611.782227  ...                 -1.0
2020-02-22   9687.707031  ...                 -1.0
2020-02-23   9663.318359  ...                 -1.0
2020-02-24   9921.583008  ...                 -1.0
...                  ...  ...                  ...
2024-08-03  61414.808594  ...                 -1.0
2024-08-04  60676.093750  ...                 -1.0
2024-08-05  58110.296875  ...                 -1.0
2024-08-06  53991.347656  ...                 -1.0
2024-08-07  56040.632812  ...                 -1.0

[887 rows x 12 columns]
Combined signals from all active strategies
Calculated returns and applied fees and slippage
Calculated cumulative returns
Calculated individual strategy drawdowns
Calculated drawdowns
Calculated rolling Sharpe ratios
Backtest completed
                    Open  ...  strategy_1_rolling_sharpe
Date                      ...                           
2020-01-01   7194.892090  ...                        NaN
2020-01-02   7202.551270  ...                        NaN
2020-01-03   6984.428711  ...                        NaN
2020-01-04   7345.375488  ...                        NaN
2020-01-05   7410.451660  ...                        NaN
...                  ...  ...                        ...
2024-09-05  57971.703125  ...                   1.190727
2024-09-06  56160.191406  ...                   1.184894
2024-09-07  53949.085938  ...                   1.239665
2024-09-08  54147.933594  ...                   1.218288
2024-09-09  54851.886719  ...                   0.886771

[1714 rows x 38 columns]
Index(['Close', 'strategy_1_position', 'Date'], dtype='object')
INFO:     127.0.0.1:43816 - "GET /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:60656 - "OPTIONS /api/backtest HTTP/1.1" 200 OK
INFO:     179.129.142.54:60656 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:60659 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
INFO:     179.129.142.54:60677 - "POST /api/backtest HTTP/1.1" 405 Method Not Allowed
WARNING:  Invalid HTTP request received.
INFO:     172.169.2.246:60208 - "GET / HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
2024-11-27 17:42:28,167 [INFO] username_email='testuser' password='testpassword'
2024-11-27 17:42:28,168 [INFO] <app.models.user.User object at 0x7a210ce6f980>
2024-11-27 17:42:28,169 [INFO] None
2024-11-27 17:42:28,169 [INFO] <app.models.user.User object at 0x7a210ce6f980>
INFO:     50.114.45.251:22817 - "POST /api/auth/login HTTP/1.1" 200 OK
Validation error: [{'type': 'missing', 'loc': ('body', 'symbol'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'start'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'end'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'fees'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'slippage'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'strategies'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}]
Request body: {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}
INFO:     50.114.45.251:61927 - "GET /api/backtest HTTP/1.1" 422 Unprocessable Entity
Validation error: [{'type': 'missing', 'loc': ('body', 'symbol'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'start'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'end'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'fees'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'slippage'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'strategies'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'sharpe_ratio'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'max_drawdown'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}, {'type': 'missing', 'loc': ('body', 'cagr'), 'msg': 'Field required', 'input': {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}}]
Request body: {'name': 'Backtest 1', 'config': {'symbol': 'SOL-USD', 'data_source': 'Yahoo Finance', 'start': '2020-01-01', 'end': '2024-01-01', 'fees': 0.5, 'slippage': 0.1, 'strategies': [{'name': 'Strategy 1', 'allocation': 100, 'positionType': 'long', 'entryRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'entryRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'exitRegimeRules': [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}, 'expression': ''}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}, 'expression': ''}, 'rightValue': '', 'logicalOperator': 'and'}], 'regimeEntryAction': 'long', 'regimeExitAction': 'long', 'regimeAsset': 'BTC-USD', 'active': True, 'position_size_method': 'fixed', 'fixed_position_size': '1', 'frequency': 'Daily'}]}, 'metric': {'sharpe_ratio': 1.5, 'max_drawdown': 0.1, 'cagr': 0.2}}
INFO:     50.114.45.251:18954 - "POST /api/backtest/save HTTP/1.1" 422 Unprocessable Entity
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     138.68.143.68:57672 - "GET /aaa9 HTTP/1.1" 404 Not Found
INFO:     138.68.143.68:57864 - "GET /aab8 HTTP/1.1" 404 Not Found
INFO:     138.68.143.68:57878 - "GET / HTTP/1.1" 200 OK
INFO:     204.188.228.43:45498 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.67:12456 - "GET / HTTP/1.1" 200 OK
INFO:     65.49.20.67:49664 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     65.49.20.67:49672 - "GET http%3A//api.ipify.org/?format=json HTTP/1.1" 404 Not Found
INFO:     65.49.20.67:61534 - "CONNECT www.shadowserver.org%3A443 HTTP/1.1" 404 Not Found
INFO:     185.226.196.23:33133 - "GET / HTTP/1.1" 200 OK
INFO:     185.226.196.22:34001 - "GET /console HTTP/1.1" 404 Not Found
INFO:     185.226.196.25:59357 - "GET /showLogin.cc HTTP/1.1" 404 Not Found
INFO:     Started server process [107147]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2024-11-28 17:06:28,227 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.251:17020 - "POST /api/auth/register HTTP/1.1" 200 OK
2024-11-28 17:06:29,137 [INFO] <app.models.user.User object at 0x766ce8d7b0e0>
INFO:     50.114.45.251:58266 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:06:30,144 [INFO] Starting backtest for symbol: SOL-USD
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
2024-11-28 17:06:30,536 [INFO] Data fetched successfully for frequency: Daily
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
2024-11-28 17:06:30,568 [INFO] Regime filter data fetched for BTC-USD
2024-11-28 17:06:30,568 [INFO] 
==== Strategy Input Data ====
Strategy Name: Strategy 1
Entry Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}}, 'rightValue': ''}]
Exit Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '20'}}, 'rightValue': ''}]
Entry Regime Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '>', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}}, 'rightValue': ''}]
Exit Regime Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '50'}}, 'rightValue': ''}]
============================
            
2024-11-28 17:06:31,110 [INFO] Backtest completed in 0.97 seconds
symbol='SOL-USD' data_source='Yahoo Finance' start='2020-01-01' end='2024-01-01' fees=0.5 slippage=0.1 strategies=[StrategyInput(name='Strategy 1', allocation=100.0, positionType='long', entryRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='>', useRightIndicator=True, rightIndicator=IndicatorInput(type='simple', name='SMA', params={'series': 'Close', 'window': '20'}, expression=''), rightValue='', logicalOperator='and')], exitRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='<', useRightIndicator=True, rightIndicator=IndicatorInput(type='simple', name='SMA', params={'series': 'Close', 'window': '20'}, expression=''), rightValue='', logicalOperator='and')], entryRegimeRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='>', useRightIndicator=True, rightIndicator=IndicatorInput(type='simple', name='SMA', params={'series': 'Close', 'window': '50'}, expression=''), rightValue='', logicalOperator='and')], exitRegimeRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='<', useRightIndicator=True, rightIndicator=IndicatorInput(type='simple', name='SMA', params={'series': 'Close', 'window': '50'}, expression=''), rightValue='', logicalOperator='and')], regimeEntryAction='long', regimeExitAction='long', regimeAsset='BTC-USD', active=True, position_size_method='fixed', fixed_position_size=1.0, volatility_target=None, volatility_lookback=30, volatility_buffer=None, max_leverage=1.0, frequency='Daily')]
Parsing rule: Close() > SMA(Close,20)
Parsing indicator: Close()
Parsing indicator: SMA(Close,20)
Parsed indicator: SMA with params: ['Close', 20]
Parsed single rule: Close > SMA(Close, 20)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='>', right=Indicator(name='SMA', params=('Close', 20))), logic=None, next_rule=None)
Parsing rule: Close() < SMA(Close,20)
Parsing indicator: Close()
Parsing indicator: SMA(Close,20)
Parsed indicator: SMA with params: ['Close', 20]
Parsed single rule: Close < SMA(Close, 20)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='<', right=Indicator(name='SMA', params=('Close', 20))), logic=None, next_rule=None)
Parsing rule: Close() > SMA(Close,50)
Parsing indicator: Close()
Parsing indicator: SMA(Close,50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: Close > SMA(Close, 50)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='>', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Parsing rule: Close() < SMA(Close,50)
Parsing indicator: Close()
Parsing indicator: SMA(Close,50)
Parsed indicator: SMA with params: ['Close', 50]
Parsed single rule: Close < SMA(Close, 50)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='<', right=Indicator(name='SMA', params=('Close', 50))), logic=None, next_rule=None)
Starting backtest for strategy Strategy 1...
Adding indicator: SMA(Close, 20)
Adding indicator: SMA(Close, 50)
Adding indicator: SMA(Close, 20)
Adding indicator: SMA(Close, 50)
Indicators added to DataFrame
Indicators added to DataFrame (Time taken: 0.0026 seconds)
Generating signals for strategy: Strategy 1
Signals generated (Time taken: 0.0084 seconds)
Position sizes calculated (Time taken: 0.0011 seconds)
Positions calculated (Time taken: 0.0006 seconds)
Strategy signals, positions and metrics calculations Strategy 1 completed in 0.0220 seconds.
Backtest for strategy Strategy 1 completed.
Backtest for strategy Strategy 1 completed in 0.0286 seconds.
INFO:     50.114.45.251:26873 - "POST /api/backtest HTTP/1.1" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzI4MTUzODl9.Duxjf9SvDOrubHd52eelEm26YRDFhxTgXTSymyKB-BY
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     50.114.45.251:3819 - "POST /api/backtest/save HTTP/1.1" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzI4MTUzODl9.Duxjf9SvDOrubHd52eelEm26YRDFhxTgXTSymyKB-BY
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     50.114.45.251:56265 - "GET /api/backtest/saved HTTP/1.1" 200 OK
2024-11-28 17:06:35,681 [ERROR] Error in backtest: 'NoneType' object has no attribute 'symbol'
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/app/api/backtest.py", line 120, in backtest
    logger.info(f"Starting backtest for symbol: {input.symbol}")
                                                 ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'symbol'

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzI4MTUzODl9.Duxjf9SvDOrubHd52eelEm26YRDFhxTgXTSymyKB-BY
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
Backtest error: 400: 'NoneType' object has no attribute 'symbol'
INFO:     50.114.45.251:44264 - "GET /api/backtest/result/9 HTTP/1.1" 500 Internal Server Error
None
INFO:     50.114.45.251:2361 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
INFO:     50.114.45.251:8143 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:09:16,418 [INFO] <app.models.user.User object at 0x766ce8d7bc80>
INFO:     50.114.45.251:58042 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:09:53,354 [INFO] <app.models.user.User object at 0x766ce8135eb0>
INFO:     50.114.45.251:10038 - "POST /api/auth/login HTTP/1.1" 200 OK
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     50.114.45.251:59160 - "GET /api/auth/login HTTP/1.1" 405 Method Not Allowed
INFO:     50.114.45.251:59160 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     Started server process [107387]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     50.114.45.251:20823 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:22:30,426 [INFO] <app.models.user.User object at 0x77afbb542810>
2024-11-28 17:22:30,427 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.251:7309 - "POST /api/auth/login HTTP/1.1" 200 OK
None
INFO:     50.114.45.251:7309 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
2024-11-28 17:22:53,465 [INFO] <app.models.user.User object at 0x77afbb5bea20>
INFO:     50.114.45.251:38819 - "POST /api/auth/login HTTP/1.1" 200 OK
None
INFO:     50.114.45.251:38819 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
None
INFO:     50.114.45.251:30814 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
2024-11-28 17:30:16,035 [INFO] <app.models.user.User object at 0x77afbb6f6cc0>
INFO:     50.114.45.251:16222 - "POST /api/auth/login HTTP/1.1" 200 OK
None
INFO:     50.114.45.251:16222 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
INFO:     50.114.45.251:2994 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:34:38,667 [INFO] <app.models.user.User object at 0x77afbab98410>
INFO:     50.114.45.251:38675 - "POST /api/auth/login HTTP/1.1" 200 OK
2024-11-28 17:35:22,727 [INFO] <app.models.user.User object at 0x77afbb5bfe00>
INFO:     50.114.45.251:16903 - "POST /api/auth/login HTTP/1.1" 200 OK
None
INFO:     50.114.45.251:16903 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
2024-11-28 17:38:06,304 [INFO] <app.models.user.User object at 0x77afbab98aa0>
INFO:     50.114.45.251:27045 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     Started server process [107655]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2024-11-28 17:41:54,982 [INFO] <app.models.user.User object at 0x7648a4832060>
2024-11-28 17:41:54,983 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.251:24433 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     Started server process [107766]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2024-11-28 17:44:17,050 [INFO] <app.models.user.User object at 0x7d4f3f73dfd0>
2024-11-28 17:44:17,050 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.251:65237 - "POST /api/auth/login HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
ssl.SSLError: [SSL] PEM lib (_ssl.c:3895)
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
ssl.SSLError: [SSL] PEM lib (_ssl.c:3895)
INFO:     Started server process [122596]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     50.114.45.114:30131 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-12-01 06:41:06,260 [INFO] <app.models.user.User object at 0x7a6701c468d0>
2024-12-01 06:41:06,262 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.114:9920 - "POST /api/auth/login HTTP/1.1" 400 Bad Request
2024-12-01 06:41:36,787 [INFO] <app.models.user.User object at 0x7a6701dfaf90>
INFO:     50.114.45.114:64737 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     Started server process [122736]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2024-12-01 06:43:26,749 [INFO] <app.models.user.User object at 0x770d71a46390>
2024-12-01 06:43:26,750 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.114:63550 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     Started server process [123198]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     50.114.45.114:15454 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2024-12-01 07:13:09,134 [INFO] <app.models.user.User object at 0x73d280a53200>
2024-12-01 07:13:09,134 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     50.114.45.114:26775 - "POST /api/auth/login HTTP/1.1" 200 OK
None
INFO:     50.114.45.114:26821 - "GET /api/backtest/saved HTTP/1.1" 401 Unauthorized
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
ssl.SSLError: [X509: KEY_VALUES_MISMATCH] key values mismatch (_ssl.c:3916)
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
ssl.SSLError: [X509: KEY_VALUES_MISMATCH] key values mismatch (_ssl.c:3916)
INFO:     Started server process [124901]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on https://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     127.0.0.1:43532 - "GET / HTTP/1.1" 200 OK
INFO:     50.114.45.114:8294 - "GET / HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
PermissionError: [Errno 13] Permission denied
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
    run(
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
    server.run()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 69, in serve
    await self._serve(sockets)
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/server.py", line 76, in _serve
    config.load()
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 400, in load
    self.ssl: ssl.SSLContext | None = create_ssl_context(
                                      ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/uvicorn/config.py", line 113, in create_ssl_context
    ctx.load_cert_chain(certfile, keyfile, get_password)
PermissionError: [Errno 13] Permission denied
INFO:     Started server process [130145]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     127.0.0.1:35318 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:35332 - "GET /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:52894 - "OPTIONS //api/auth/login HTTP/1.0" 200 OK
INFO:     127.0.0.1:52910 - "POST //api/auth/login HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:37442 - "POST //api/auth/login HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:39394 - "OPTIONS /api/auth/login HTTP/1.0" 200 OK
2024-12-01 09:32:05,159 [INFO] <app.models.user.User object at 0x7a838a473b90>
2024-12-01 09:32:05,161 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     127.0.0.1:39404 - "POST /api/auth/login HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNDczMjV9.NdGNupRfdPF8Ptw4Buu9F9icsuGzR_jAlg5segesQhY
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:35100 - "GET /api/backtest/saved HTTP/1.0" 200 OK
INFO:     127.0.0.1:34712 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:35854 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:53004 - "GET /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:46280 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:46294 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:43482 - "GET /.env HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:59570 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:40630 - "OPTIONS /api/auth/login HTTP/1.0" 200 OK
2024-12-01 10:55:23,794 [INFO] <app.models.user.User object at 0x7a83892a7c50>
INFO:     127.0.0.1:40636 - "POST /api/auth/login HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNTIzMjR9.4UTL0UZeVdlmC148T5bEKffsmd9jEkYY6R4Wp3dnDDY
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:47690 - "GET /api/backtest/saved HTTP/1.0" 200 OK
INFO:     127.0.0.1:33360 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:33374 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:33384 - "GET /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:33398 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:33402 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:56896 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:56906 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:56910 - "GET /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:56914 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:56928 - "HEAD /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:50418 - "HEAD /epa/scripts/win/nsepa_setup.exe HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:40034 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:48586 - "GET /version HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:43418 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:44528 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:53002 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:53008 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:55502 - "GET / HTTP/1.0" 200 OK
INFO:     127.0.0.1:55508 - "GET /favicon.ico HTTP/1.0" 404 Not Found
INFO:     127.0.0.1:40136 - "HEAD /epa/scripts/win/nsepa_setup.exe HTTP/1.0" 404 Not Found
INFO:     45.156.130.13:41117 - "GET /api/v2/ HTTP/1.1" 404 Not Found
INFO:     45.156.130.12:60445 - "GET /ms/1.0/ HTTP/1.1" 404 Not Found
WARNING:  Invalid HTTP request received.
INFO:     45.156.130.12:45431 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:59360 - "OPTIONS /api/auth/login HTTP/1.0" 400 Bad Request
INFO:     127.0.0.1:60454 - "OPTIONS /api/auth/login HTTP/1.0" 400 Bad Request
INFO:     Started server process [131576]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     127.0.0.1:49296 - "OPTIONS /api/auth/login HTTP/1.0" 400 Bad Request
INFO:     Started server process [131684]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     127.0.0.1:53120 - "OPTIONS /api/auth/login HTTP/1.0" 200 OK
2024-12-01 14:25:26,538 [INFO] <app.models.user.User object at 0x7d0a1d2bb140>
2024-12-01 14:25:26,540 [WARNING] (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/ubuntu/Quantifi/QuantiFi-Backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
INFO:     127.0.0.1:53124 - "POST /api/auth/login HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNjQ5MjZ9.cy_3LDrPR1ivvIPm87-yToZUnYT8DIY8aQ1LzNT4UU0
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:39540 - "GET /api/backtest/saved HTTP/1.0" 200 OK
INFO:     127.0.0.1:60848 - "OPTIONS /api/backtest HTTP/1.0" 200 OK
2024-12-01 14:27:53,783 [INFO] Starting backtest for symbol: BTC-USD
[*********************100%***********************]  1 of 1 completed
[*********************100%***********************]  1 of 1 completed
2024-12-01 14:27:54,099 [INFO] Data fetched successfully for frequency: Daily
2024-12-01 14:27:54,099 [INFO] 
==== Strategy Input Data ====
Strategy Name: Strategy 1
Entry Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '>=', 'useRightIndicator': True, 'rightIndicator': {'type': 'composite', 'name': '', 'params': {}}, 'rightValue': ''}]
Exit Rules: [{'leftIndicator': {'type': 'simple', 'name': 'Close', 'params': {}}, 'operator': '<', 'useRightIndicator': True, 'rightIndicator': {'type': 'simple', 'name': 'SMA', 'params': {'series': 'Close', 'window': '10'}}, 'rightValue': ''}]
Entry Regime Rules: []
Exit Regime Rules: []
============================
            
2024-12-01 14:27:54,868 [INFO] Backtest completed in 1.08 seconds
symbol='BTC-USD' data_source='Yahoo Finance' start='2020-01-01' end='2024-10-09' fees=0.5 slippage=0.1 strategies=[StrategyInput(name='Strategy 1', allocation=100.0, positionType='long', entryRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='>=', useRightIndicator=True, rightIndicator=IndicatorInput(type='composite', name='', params={}, expression='Rolling_High(Close,10)'), rightValue='', logicalOperator='and')], exitRules=[RuleInput(leftIndicator=IndicatorInput(type='simple', name='Close', params={}, expression=''), operator='<', useRightIndicator=True, rightIndicator=IndicatorInput(type='simple', name='SMA', params={'series': 'Close', 'window': '10'}, expression=''), rightValue='', logicalOperator='and')], entryRegimeRules=None, exitRegimeRules=None, regimeEntryAction=None, regimeExitAction=None, regimeAsset=None, active=True, position_size_method='fixed', fixed_position_size=1.0, volatility_target=None, volatility_lookback=30, volatility_buffer=None, max_leverage=1.0, frequency='Daily')]
Parsing rule: Close() >= Rolling_High(Close,10)
Parsing indicator: Close()
Parsing indicator: Rolling_High(Close,10)
Parsed indicator: Rolling_High with params: ['Close', 10]
Parsed single rule: Close >= Rolling_High(Close, 10)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='>=', right=Indicator(name='Rolling_High', params=('Close', 10))), logic=None, next_rule=None)
Parsing rule: Close() < SMA(Close,10)
Parsing indicator: Close()
Parsing indicator: SMA(Close,10)
Parsed indicator: SMA with params: ['Close', 10]
Parsed single rule: Close < SMA(Close, 10)
Parsed composite rule: CompositeRule(rule=Rule(left=Indicator(name='Close', params=()), operator='<', right=Indicator(name='SMA', params=('Close', 10))), logic=None, next_rule=None)
Starting backtest for strategy Strategy 1...
Adding indicator: Rolling_High(Close, 10)
Adding indicator: SMA(Close, 10)
Indicators added to DataFrame
Indicators added to DataFrame (Time taken: 0.0041 seconds)
Generating signals for strategy: Strategy 1
Signals generated (Time taken: 0.0038 seconds)
Position sizes calculated (Time taken: 0.0012 seconds)
Positions calculated (Time taken: 0.0006 seconds)
Strategy signals, positions and metrics calculations Strategy 1 completed in 0.0204 seconds.
Backtest for strategy Strategy 1 completed.
Backtest for strategy Strategy 1 completed in 0.0286 seconds.
INFO:     127.0.0.1:60862 - "POST /api/backtest HTTP/1.0" 200 OK
INFO:     127.0.0.1:55830 - "OPTIONS /api/backtest/save HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNjQ5MjZ9.cy_3LDrPR1ivvIPm87-yToZUnYT8DIY8aQ1LzNT4UU0
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:55844 - "POST /api/backtest/save HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNjQ5MjZ9.cy_3LDrPR1ivvIPm87-yToZUnYT8DIY8aQ1LzNT4UU0
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:34972 - "POST /api/backtest/save HTTP/1.0" 200 OK
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwicm9sZSI6InVzZXIiLCJleHAiOjE3MzMwNjQ5MjZ9.cy_3LDrPR1ivvIPm87-yToZUnYT8DIY8aQ1LzNT4UU0
username='testuser' email='test@example.com' role=<UserRole.baseuser: 'user'>
INFO:     127.0.0.1:47578 - "GET /api/backtest/saved HTTP/1.0" 200 OK
